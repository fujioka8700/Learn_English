# プロジェクト進捗管理

## 概要

英語学習アプリの開発進捗を管理するドキュメントです。

## 開発フェーズ

### Phase 1: 基礎機能実装

**ステータス**: 🟢 完了

#### タスク一覧

- [x] データベース設計・構築
  - [x] Prisma スキーマの作成
  - [x] データベースマイグレーション（要実行: `npm run db:push`）
  - [x] 初期データの準備
- [x] 英単語データのインポート
  - [x] 中 1 レベルの英単語データ取得（サンプルデータ作成済み）
  - [x] 中 2 レベルの英単語データ取得（サンプルデータ作成済み）
  - [x] 中 3 レベルの英単語データ取得（サンプルデータ作成済み）
  - [x] データベースへのインポートスクリプト作成
- [x] ゲストモードでの単語一覧表示機能（登録不要）
  - [x] 単語一覧ページの作成
  - [x] レベル別フィルタリング機能
  - [x] ページネーション機能
- [x] ゲストモードでの基本的な検索機能（登録不要）
  - [x] 英単語検索機能
  - [x] 日本語検索機能
  - [x] アルファベット順ソート機能

**完了日**: 2024 年（完了）

**実装済み機能**:

- Prisma スキーマ（Word, User, UserWord モデル）
- データベースマイグレーション完了
- Prisma Client 生成完了
- 初期データインポート完了（中 1: 20 件、中 2: 10 件、中 3: 10 件、合計 40 件）
- API エンドポイント (`/api/words`)
- 単語一覧ページ (`/words`)
- レベル別フィルタリング
- 検索機能（英単語・日本語）
- ソート機能（英単語・日本語、昇順・降順）
- ページネーション

**次のステップ**:

Phase 2 に進みます。

---

### Phase 2: 学習機能実装

**ステータス**: 🟢 完了

#### タスク一覧

- [x] ゲストモードでのフラッシュカード機能（ローカルストレージで進捗保存）

  - [x] フラッシュカードコンポーネントの作成
  - [x] カードめくり機能
  - [x] ローカルストレージへの進捗保存
  - [x] 進捗の復元機能

- [x] ゲストモードでの 4 択クイズ機能

  - [x] 4 択問題の実装
    - [x] 問題出題ロジック
    - [x] 選択肢のランダム生成
  - [x] 最初の質問の 10 秒時間制限機能
  - [x] カウントダウンタイマー（進捗バー形式）の実装
    - [x] 10 秒から 0 秒までカウントダウン表示
    - [x] 進捗バーの視覚的表示
  - [x] 問題シーケンス（順序）の表示
    - [x] 現在の問題番号/総問題数の表示
  - [x] 進捗バーの実装（カウントダウンタイマーと統合）
  - [x] 時間切れ時の自動処理
    - [x] 時間が 0 に達した場合の「間違い」処理
    - [x] 次の問題への自動遷移
  - [x] 回答後の自動遷移機能
    - [x] 回答後、一定時間経過後の自動遷移
    - [x] 時間切れ後の自動遷移
  - [x] 結果画面の実装
    - [x] 正解数/総問題数の表示
    - [x] 正答率（パーセンテージ）の表示
    - [x] 各問題の正解/不正解の表示
    - [x] 間違えた問題の復習機能（もう一度挑戦機能）
  - [x] 回答後のフィードバック表示
    - [x] 正解/不正解の即座な表示
    - [x] 正解の選択肢のハイライト表示

- [x] 学習進捗の記録（ローカルストレージ / データベース）
  - [x] ローカルストレージへの保存機能（フラッシュカード用）
  - [ ] データベースへの保存機能（ログインユーザー向け - Phase 3 で実装）

**完了日**: 2024 年（完了）

**実装済み機能**:

- 4 択クイズページ (`/quiz`)
  - レベル別・問題数指定でのクイズ開始
  - 10 秒時間制限（最初の問題のみ）
  - カウントダウンタイマー（進捗バー形式）
  - 問題シーケンス表示
  - 回答後の自動遷移（2 秒後）
  - 時間切れ時の自動処理
  - 結果画面（正解数、正答率、問題別結果）
- フラッシュカードページ (`/flashcard`)
  - カードめくり機能
  - 前後ナビゲーション
  - 学習済みマーク機能
  - ローカルストレージへの進捗保存
  - 学習回数の記録

---

### Phase 3: ユーザー機能実装（オプション）

**ステータス**: 🟢 完了

#### タスク一覧

- [x] ユーザー登録・ログイン（任意）
  - [x] 認証システムの実装（JWT 認証）
  - [x] ユーザー登録フォーム
  - [x] ログインフォーム
  - [x] セッション管理（JWT + ローカルストレージ）
- [x] 個人の学習履歴管理（データベース保存）
  - [x] 学習履歴の保存機能
  - [x] 学習履歴の表示機能
- [x] 統計機能（ログインユーザー向け）
  - [x] 正答率の統計
  - [x] 学習単語数の統計
  - [x] レベル別統計
- [x] ゲストモードからログインモードへの移行機能
  - [x] ログイン後の自動データ保存（クイズ・フラッシュカード）

**完了日**: 2024 年（完了）

**実装済み機能**:

- 認証システム
  - JWT トークンベースの認証
  - パスワードハッシュ化（bcryptjs）
  - ユーザー登録 API (`/api/auth/register`)
  - ログイン API (`/api/auth/login`)
  - ユーザー情報取得 API (`/api/auth/me`)
- ユーザー登録・ログインページ
  - 登録ページ (`/register`)
  - ログインページ (`/login`)
  - 認証状態の表示（ホームページ）
- 学習履歴管理
  - 学習履歴保存 API (`/api/user-words`)
  - クイズ結果の自動保存
  - フラッシュカード学習の自動保存
- 統計ページ (`/stats`)
  - 全体統計（学習単語数、正解数、間違い数、正答率）
  - レベル別統計
  - 学習履歴一覧

---

### Phase 4: UI 改善・最適化

**ステータス**: 🟢 完了

#### タスク一覧

- [x] デザインの改善
  - [x] UI/UX の改善（共通ナビゲーション、フッターの追加）
  - [x] レスポンシブデザインの最適化
- [x] パフォーマンス最適化
  - [x] ページ読み込み時間の最適化（必要なフィールドのみ取得）
  - [x] データベースクエリの最適化（select 句の使用、並列実行）
  - [x] 検索機能のデバウンス処理
- [x] モバイル対応の強化
  - [x] タッチ操作の最適化（active スタイルの追加）
  - [x] モバイル表示の改善（レスポンシブレイアウト、モバイルメニュー）

**完了日**: 2024 年（完了）

**実装済み機能**:

- 共通レイアウトコンポーネント
  - ナビゲーションバー（デスクトップ・モバイル対応）
  - フッター
  - 認証状態の表示
- レスポンシブデザイン
  - モバイルファーストアプローチ
  - タッチ操作の最適化
  - モバイルメニューの実装
- パフォーマンス最適化
  - データベースクエリの最適化（必要なフィールドのみ取得）
  - 検索機能のデバウンス処理（500ms）
  - 学習履歴の取得制限（最新 100 件）

---

## 進捗サマリー

| フェーズ | ステータス | 進捗率 | 開始日 | 完了予定日 |
| -------- | ---------- | ------ | ------ | ---------- |
| Phase 1  | 🟢 完了    | 100%   | -      | 2024 年    |
| Phase 2  | 🟢 完了    | 100%   | -      | 2024 年    |
| Phase 3  | 🟢 完了    | 100%   | -      | 2024 年    |
| Phase 4  | 🟢 完了    | 100%   | -      | 2024 年    |

**全体進捗**: 100%

## ステータス凡例

- 🔴 未着手: まだ開始していない
- 🟡 進行中: 現在作業中
- 🟢 完了: 完了済み
- ⚠️ ブロック: 問題が発生して停止中

## 更新履歴

| 日付    | 更新内容                                                                        | 更新者 |
| ------- | ------------------------------------------------------------------------------- | ------ |
| 2024 年 | Phase 4 完了（UI 改善・最適化、レスポンシブデザイン、パフォーマンス最適化完了） | -      |
| 2024 年 | Phase 3 完了（認証システム、学習履歴管理、統計機能の実装完了）                  | -      |
| 2024 年 | Phase 2 完了（4 択クイズ機能、フラッシュカード機能の実装完了）                  | -      |
| 2024 年 | Phase 1 完了（データベースマイグレーション、初期データインポート完了）          | -      |
| -       | 初版作成                                                                        | -      |

---

**注意**: このドキュメントは定期的に更新してください。
